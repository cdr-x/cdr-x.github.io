<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono&display=swap" rel="stylesheet">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <title>cdr-x | Linktree</title>
    <style>
      body {
        font-family: 'Inter', sans-serif;
        background: #1a1a2e;
        margin: 0;
        overflow: auto;
        background-repeat: repeat;
      }
      .container {
        background: rgba(26, 26, 46, 0.85);
        --cycle-color: #4b5dfa;
        border: 1px solid var(--cycle-color);
      }
      .container:hover {
        animation: cycleColor 1s infinite;
      }
      .profile img {
        --cycle-color: #4b5dfa;
        box-shadow: 0 0 0 2px var(--cycle-color);
        transition: transform 0.3s ease;
      }
      .profile img:hover {
        animation: cycleColor 1s infinite, pulse 1.5s infinite;
      }
      .links a {
        background: #2b2b4a;
        color: #e2e8f0;
        --cycle-color: #4b5dfa;
        border: 1px solid var(--cycle-color);
        position: relative;
        overflow: hidden;
      }
      .links a:hover {
        background: #4b5dfa;
        color: #ffffff;
        animation: cycleColor 2s infinite;
      }
      .links a:active::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100%;
        height: 100%;
        background: rgba(74, 222, 128, 0.3);
        transform: translate(-50%, -50%) scale(0);
        animation: glitchRipple 0.5s ease-out;
      }
      .social-icons ion-icon:hover {
        color: #4ade80;
        animation: flickerIcon 0.2s infinite;
      }
      /* Added animation classes */
      .bg-cycle {
        animation: cycleBg 0.8s;
      }
      .icon-cycle {
        animation: colorCycle 0.8s;
      }
      .click-bg {
        animation: cycleBg 0.2s;
      }
      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      @keyframes glitchRipple {
        0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
        100% { transform: translate(-50%, -50%) scale(2); opacity: 0; }
      }
      @keyframes flickerIcon {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }
    </style>
  </head>
  <body>
    <pre id="asciiArt" style="display: none;"> 
╔═╦═╦═╦═╗ ╔═╦═╦═╦═╦═╦═╦═╗═══╦═══╦═
║ ░<>░░ ║ ║ ┌─┼─┐ │   │ │   │     
║ <>░░  (║░░║)│▒│ │   │ │   │   ◉
║ ░╔═══╗║ ║ ├═┼═┼═┼═┼═┼═┼═┬═┼═┬═┼═
║ ░║ O ║║ ║ └─┼─┘ ║-- ║≈≈≈║~~~║═══
║ ░╚═══╝║ ║   ║[■]║≈≈≈║~~~║   ║   
║ ░ ░ ░░ ║║   ║▒▒═╬═▒▒║▒▒═╬═▒▒║   
║ ░░░<>░░║╚═══╧═══╩═══╧═══╩═══╧═══
    </pre>

    <div class="container mx-auto py-12 max-w-md rounded-lg shadow-lg relative">
      <div class="profile text-center">
        <img src="https://i.imgur.com/3WKYEMA.png" class="rounded-full w-32 h-32 mx-auto ring-2" alt="Profile Picture">
        <h1 class="text-3xl font-bold mt-4 text-white">cdr-x</h1>
        <p class="text-gray-400">Connect with me across the web</p>
      </div>
      <div class="links mt-8 space-y-4 px-4">
        <a href="https://github.com/cdr-x" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center p-4 rounded transform hover:scale-105 transition duration-300">
          <ion-icon name="logo-github" class="text-2xl"></ion-icon>
          <span class="ml-2">GitHub</span>
        </a>
        <a href="https://open.spotify.com/user/1212791207" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center p-4 rounded transform hover:scale-105 transition duration-300">
          <ion-icon name="musical-notes" class="text-2xl"></ion-icon>
          <span class="ml-2">Spotify</span>
        </a>
        <a href="https://steamcommunity.com/id/gollvm" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center p-4 rounded transform hover:scale-105 transition duration-300">
          <ion-icon name="logo-steam" class="text-2xl"></ion-icon>
          <span class="ml-2">Steam</span>
        </a>
      </div>
    </div>
    <script>
      window.addEventListener('load', () => {
        const pre = document.getElementById('asciiArt');
        const lines = pre.textContent.split('\n').filter(line => line.trim() !== '');
        const fontSize = 16;
        const lineHeight = 18;
        const charWidth = 10;
        const numLines = lines.length;
        const maxChars = Math.max(...lines.map(line => line.length));
        const svgWidth = maxChars * charWidth;
        const svgHeight = numLines * lineHeight;

        let svgContent = `<svg xmlns="http://www.w3.org/2000/svg" width="${svgWidth}" height="${svgHeight}"><style>
          @keyframes glitch1 {
            0%, 100% { transform: translate(0, 0); }
            20% { transform: translate(-2px, 0); }
            21% { transform: translate(0, 0); }
            40% { transform: translate(2px, 0); }
            41% { transform: translate(0, 0); }
          }
          @keyframes glitch2 {
            0%, 100% { opacity: 1; }
            30% { opacity: 0.55; }
            31% { opacity: 1; }
            60% { opacity: 0.75; }
            61% { opacity: 1; }
          }

          @keyframes glitch3 {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(0, -2px); }
            51% { transform: translate(0, 0); }
            70% { transform: translate(0, 2px); }
            71% { transform: translate(0, 0); }
          }
          @keyframes flicker {
            0%, 98% { opacity: 0; }
            98.5% { opacity: 1; }
            100% { opacity: 0; }
          }
          @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
          }
          @keyframes purpleCycle {
            0% { fill: #d92cff; text-shadow: 0 0 5px #d92cff; }
            20% { fill: #b03df7; text-shadow: 0 0 5px #b03df7; }
            40% { fill: #c28ffd; text-shadow: 0 0 5px #c28ffd; }
            60% { fill: #7a44aa; text-shadow: 0 0 5px #7a44aa; }
            80% { fill: #ff9ffd; text-shadow: 0 0 5px #ff9ffd; }
            100% { fill: #d92cff; text-shadow: 0 0 5px #d92cff; }
          }
          .scanline {
            fill: rgba(255, 255, 255, 0.05);
            animation: scanline 6s linear infinite;
          }
        </style>
        <rect width="100%" height="2" class="scanline" y="-2"/>`;

        lines.forEach((line, lineIndex) => {
          [...line].forEach((char, charIndex) => {
            const x = charIndex * charWidth;
            const y = (lineIndex + 1) * lineHeight - 2;
            let fillColor;
            let style = `opacity:.92;`;
            if (char === '(' || char === ')') {
              fillColor = "#0099FF";
              style += ` text-shadow:0 0 5px #0099FF;`;
            } else if (char === '◉') {
              fillColor = "#d92cff";
              style += ` animation: purpleCycle 2s infinite;`;
            } else {
              fillColor = "#4ade80";
              style += ` text-shadow:0 0 5px #4ade80;`;
              if (Math.random() < 0.15) {
                const glitchTypes = ['glitch1', 'glitch2', 'glitch3'];
                const glitchType = glitchTypes[Math.floor(Math.random() * glitchTypes.length)];
                const delay = (Math.random() * 5).toFixed(2);
                style += ` animation: ${glitchType} 5s infinite ${delay}s;`;
              }
            }
            const escapedChar = char.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#039;');
            svgContent += `<text x="${x}" y="${y}" font-family="Noto Sans Mono, monospace" font-size="${fontSize}" fill="${fillColor}" style="${style}">${escapedChar}</text>`;
            if (Math.random() < 0.05) {
              const randomChar1 = String.fromCharCode(33 + Math.floor(Math.random() * 94));
              const randomChar2 = String.fromCharCode(33 + Math.floor(Math.random() * 94));
              const delay1 = (Math.random() * 10).toFixed(2);
              const delay2 = (Math.random() * 10).toFixed(2);
              svgContent += `<text x="${x}" y="${y}" font-family="Noto Sans Mono, monospace" font-size="${fontSize}" fill="#4ade80" style="opacity:0; animation: flicker 8s infinite ${delay1}s;">${randomChar1}</text>`;
              svgContent += `<text x="${x}" y="${y}" font-family="Noto Sans Mono, monospace" font-size="${fontSize}" fill="#4ade80" style="opacity:0; animation: flicker 8s infinite ${delay2}s;">${randomChar2}</text>`;
            }
          });
        });
        svgContent += '</svg>';

        const encodedSvg = btoa(unescape(encodeURIComponent(svgContent)));
        const dataUri = `data:image/svg+xml;base64,${encodedSvg}`;

        // Delay background application by 500ms
        setTimeout(() => {
          document.body.style.backgroundImage = `url('${dataUri}')`;
          document.body.style.backgroundRepeat = 'repeat';
          document.body.style.backgroundSize = `${svgWidth}px ${svgHeight}px`;
          document.body.style.backgroundColor = '#1a1a2e';
          pre.style.display = 'none';
        }, 500);

        const colorSequence = [
          "#181818", "#23232a", "#2d2a37", "#45424a", "#7f8a99",
          "#b17435", "#915c23", "#6c3d13", "#d68651", "#a05a2c",
          "#ecd4a0", "#f1b369",
          "#d92cff", "#b03df7", "#c28ffd", "#7a44aa", "#ff9ffd",
          "#f8faff", "#ffeefa", "#fffbe2",
          "#a0abb5", "#3d3d3d", "#c59f77", "#372f2d", "#6a6d8c"
        ];

        const style = document.createElement('style');
        let colorKeyframes = '';
        colorSequence.forEach((color, index) => {
          const percent = (index / (colorSequence.length - 1)) * 100;
          colorKeyframes += `${percent}% { color: ${color}; }`;
        });
        style.textContent = `@keyframes colorCycle { ${colorKeyframes} }`;

        let cycleKeyframes = '';
        colorSequence.forEach((color, index) => {
          const percent = (index / (colorSequence.length - 1)) * 100;
          cycleKeyframes += `${percent}% { --cycle-color: ${color}; }`;
        });
        style.textContent += `@keyframes cycleColor { ${cycleKeyframes} }`;

        let bgKeyframes = '';
        colorSequence.forEach((color, index) => {
          const percent = (index / (colorSequence.length - 1)) * 100;
          bgKeyframes += `${percent}% { background-color: ${color}; }`;
        });
        style.textContent += `@keyframes cycleBg { ${bgKeyframes} }`;

        document.head.appendChild(style);

        const links = document.querySelectorAll('.links a');
        links.forEach(link => {
          // Mouseover: Trigger animations on each event
          link.addEventListener('mouseover', () => {
            link.classList.remove('bg-cycle');
            void link.offsetWidth; // Force reflow to reset animation
            link.classList.add('bg-cycle');
            const icon = link.querySelector('ion-icon');
            if (icon) {
              icon.classList.remove('icon-cycle');
              void icon.offsetWidth; // Force reflow
              icon.classList.add('icon-cycle');
            }
          });

          // Mousedown: Quick background animation
          link.addEventListener('mousedown', () => {
            link.classList.add('click-bg');
            setTimeout(() => {
              link.classList.remove('click-bg');
            }, 200); // Remove after 0.2s
          });
        });
      });
    </script>
  </body>
</html>
